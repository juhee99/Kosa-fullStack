<img src="https://noticon-static.tammolo.com/dgggcrkxq/image/upload/v1566913897/noticon/xbvewg1m3azbpnrzck1k.png" height="15%" width="15%"> <br/>

# 2023-03-27 / MVC

ğŸ—“ï¸ ë‚ ì§œâ€â€â€â€â€â€â€â€â€â€â€2023/03/27 

â˜ï¸ ë‚ ì”¨â€â€â€â€â€â€â€â€â€â€â€ğŸŒ ë§‘ìŒ ( 4Â°C )

</br>

## 01. MVC

ğŸ’¡ Model View Controller ì˜ ì•½ìë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì„¸ê°€ì§€ì˜ ì—­í• ë¡œ êµ¬ë¶„í•œ ê°œë°œ ë°©ë²•ë¡ ì´ë‹¤.

- ë¹„ì§€ë‹ˆìŠ¤ ì²˜ë¦¬ ë¡œì§, ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ìš”ì†Œë“¤ì„ ë¶„ë¦¬ ì‹œì¼œ `ì„œë¡œ ì˜í–¥ì—†ì´ ê°œë°œ`í•˜ê¸° ìˆ˜ì›”í•˜ë‹¤ëŠ” ì¥ì ê³¼ `ìœ ì§€ë³´ìˆ˜ë¥¼ ë…ë¦½ì `ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.

</br>

### 1.1 Model

â“Modelì€ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ â€œë¬´ì—‡â€ì„ í•  ê²ƒì¸ì§€ ì •ì˜

- Service Model :  DAO(Data Access Object)
    - DAO : ë°ì´í„° ë² ì´ìŠ¤ ì—°ë™ì„ ë‹´ë‹¹í•˜ëŠ” í´ë˜ìŠ¤

- Domain Model : VO(Value Object),  DTO(Data Transfer Object) , Entitiy
    - VO  : Read Only , ë°ì´í„° ì „ë‹¬í•˜ëŠ” ì—­í• , ìˆ˜ì • x
    - DTO :  ë°ì´í„° ì „ë‹¬í•˜ëŠ” ì—­í•  , ë¡œì§ì„ ê°–ê³  ìˆì§€ ì•ŠìŒ
    - Entitiy : ë³€ìˆ˜ê°€ columëª…ê³¼ ë°ì´í„° í˜•ì‹ì´ ë§µí•‘ë˜ëŠ” í´ë˜ìŠ¤

### 1.2 Controller

â“ControllerëŠ” ëª¨ë¸ì´ â€˜ì–´ë–»ê²Œâ€™ ì²˜ë¦¬í•  ì§€ ì•Œë ¤ì£¼ëŠ” ì—­í•  

- model ê³¼ view ì‚¬ì´ì—ì„œ ì—°ê²° ì—­í• ì„ í•˜ë©° ì´ ë‘ ê·¸ë£¹ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶° í™•ì •ì„±ì„ ì¦ê°€ì‹œí‚¤ë„ë¡ ì„¤ê³„í•œë‹¤.

### 1.3 View

â“ViewëŠ” ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤

</br></br>

## 02. ì œë„ˆë¦­

ğŸ’¡ ê²°ì •ë˜ì§€ ì•Šì€ íƒ€ì…ì„ íŒŒë¼ë¯¸í„°ë¡œ ê°€ì§€ëŠ” í´ë˜ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤

- ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ Object íƒ€ì…ì´ ì•”ë¬µì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.

### 2.1 ì™€ì¼ë“œì¹´ë“œ íƒ€ì… íŒŒë¼ë¯¸í„°

ğŸ’¡ ì œë„ˆë¦­ íƒ€ì…ì„ ë§¤ê°œê°’ì´ë‚˜ ë¦¬í„´ íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©í•  ë•Œ ë²”ìœ„ì— ìˆëŠ” ëª¨ë“  íƒ€ì…ìœ¼ë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ” íƒ€ì… íŒŒë¼ë¯¸í„°ë‹¤.

- ? ê¸°í˜¸ë¡œ í‘œì‹œí•œë‹¤.
- ë¦¬í„´íƒ€ì… ë©”ì†Œë“œëª…(ì œë„ˆë¦­íƒ€ì…<? extends Student> ë³€ìˆ˜) {â€¦}
    - Studentë¥¼ í¬í•¨í•œ ìì†ë§Œ ì˜¬ ìˆ˜ ìˆë‹¤
- ë¦¬í„´íƒ€ì… ë©”ì†Œë“œëª…(ì œë„ˆë¦­íƒ€ì…<? super Worker> ë³€ìˆ˜) {â€¦}
    - Workerì„ í¬í•¨í•œ ë¶€ëª¨ë§Œ ì˜¬ ìˆ˜ ìˆë‹¤.
- ë¦¬í„´íƒ€ì… ë©”ì†Œë“œëª…(ì œë„ˆë¦­íƒ€ì…<?> ë³€ìˆ˜) {â€¦}
    - ì•„ë¬´ ê°ì²´ë‚˜ ë‹¤ ì˜¬ ìˆ˜ ìˆë‹¤.

### 2.2 ì œë„ˆë¦­ ë©”ì„œë“œ

ğŸ’¡ íƒ€ì… íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì§€ê³  ìˆëŠ” ë©”ì„œë“œ

- ë¦¬í„´ íƒ€ì… ì•ì— < > ê¸°í˜¸í™” íƒ€ì… íŒŒë¼ë¯¸í„°ë¥¼ ì •ì˜í•œ í›„ì— ë¦¬í„´ íƒ€ì…ê³¼ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì—ì„œ ì‚¬ìš©í•œë‹¤.
- public <íƒ€ì… íŒŒë¼ë¯¸í„°> ë¦¬í„´íƒ€ì… ë©”ì†Œë“œëª…(ë§¤ê°œë³€ìˆ˜) {â€¦}

```java
public <T> Box<T> boxing(T t) {...}
Box<Integer> box1 = boxing(100);
Box<String> box2 = boxing("ì•ˆë…•í•˜ì„¸ìš”");
```

### 2.3 ì œí•œëœ íƒ€ì… íŒŒë¼ë¯¸í„°

ğŸ’¡ ëª¨ë“  íƒ€ì…ìœ¼ë¡œ ëŒ€ì²´í•  ìˆ˜ ì—†ê³ , íŠ¹ì • íƒ€ì…ê³¼ ìì‹ ë˜ëŠ” êµ¬í˜„ ê´€ê³„ì— ìˆëŠ” íƒ€ì…ë§Œ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ” íŒŒë¼ë¯¸í„°

- extends ì ˆì„ ì‚¬ìš©í•œë‹¤
- public <T extends ìƒìœ„íƒ€ì…> ë¦¬í„´íƒ€ì… ë©”ì†Œë“œ(ë§¤ê°œë³€ìˆ˜ ) {â€¦}

```java
public static <T extends Number> boolean equalValue(T t1, T t2) {
		if (t1.doubleValue() == t2.doubleValue()) // ëª¨ë“  ìˆ«ìë¥¼ ë‹¤ë£° ìˆ˜ ìˆëŠ” doubleë¡œ
			return true;
		else 
			return false;
	}
```
## Exercise01 / MVC
<details>
<summary> ğŸ“œMVC  í¼ì³ë³´ê¸°</summary>
<div markdown="1">

### (1) model êµ¬í˜„(íŒ¨í‚¤ì§€ : mvclab.model)

- student í…Œì´ë¸”ì— ë§¤í•‘ë˜ëŠ” StudentDTO í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤.
- StudentDAO í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤.(DB ì„œë²„ ì ‘ì†ì€ day16.mvc.MySQLConnect ì‚¬ìš©)
- êµ¬í˜„í•  ë©”ì†Œë“œ
    
    boolean insertStudent(StudentDTO dto)
    List<StudentDTO> getAllStudent()
    int getScore(StudentDTO dto)
    boolean updateStudent(StudentDTO dto)
    boolean deleteStudent(StudentDTO dto)
    

```java
public class StudentDAO {

	public boolean insertStudent(StudentDTO dto) {
		boolean result = false;
		Connection conn = MySQLConnect.connect();
		try(PreparedStatement pstmt = conn.prepareStatement("insert into student (name, score) values (?, ?)")){
			pstmt.setString(1, dto.getName());
			pstmt.setInt(2, dto.getScore());
			pstmt.executeUpdate();
			result = true;
		}catch(SQLException se) {
			System.out.println(se.getMessage());
		}
		MySQLConnect.close(conn);
		return result;
	}
	
	public List<StudentDTO> getAllStudent() {
		Connection conn = MySQLConnect.connect();
		List<StudentDTO> list = null;
		try(Statement stmt = conn.createStatement()){
			ResultSet rs = stmt.executeQuery("select name, score from student");
			list = new ArrayList<StudentDTO>();
			while(rs.next()) {
				StudentDTO so = new StudentDTO();
				so.setName(rs.getString("name"));
				so.setScore(rs.getInt("score"));
				list.add(so);
			}
		}catch(SQLException se) {
			System.out.println(se.getMessage());
		}
		MySQLConnect.close(conn);
		return list;
	}
	

	public int getScore(StudentDTO dto) {
		int result = 0;
		Connection conn = MySQLConnect.connect();
		try(PreparedStatement pstmt = conn.prepareStatement("select name, score from student where name = ?")){
			pstmt.setString(1, dto.getName());
			ResultSet rs = pstmt.executeQuery();
			if(rs.next()) {
				result = rs.getInt("score");
			}else {
				 result = -1;
			}
	}catch(SQLException se) {
		System.out.println(se.getMessage());
	}
		MySQLConnect.close(conn);
		return result;
	}
	
	public boolean updateStudent(StudentDTO dto) {
		boolean result = false;
		Connection conn = MySQLConnect.connect();
		try(PreparedStatement pstmt = conn.prepareStatement("update student set name = ? , score = ? where name = ? ")){
			pstmt.setString(1, dto.getName());
			pstmt.setInt(2, dto.getScore());
			pstmt.setString(3, dto.getName());
			int check =  pstmt.executeUpdate();
			if(check > 0 ) result = true;
	}catch(SQLException se) {
		System.out.println(se.getMessage());
	}
	MySQLConnect.close(conn);
	return result;
	}
	
	public boolean deleteStudent(StudentDTO dto) {
		boolean result = false;
		Connection conn = MySQLConnect.connect();
		try(PreparedStatement pstmt = conn.prepareStatement("delete from student where name = ? ")){
			pstmt.setString(1, dto.getName());
			pstmt.executeUpdate();
			result = true;
	}catch(SQLException se) {
		System.out.println(se.getMessage());
	}
	MySQLConnect.close(conn);
	return result;
	}
}
```

### (2) controller êµ¬í˜„(íŒ¨í‚¤ì§€ : mvclab.controller)

- êµ¬í˜„ í´ë˜ìŠ¤ëª… : StudentController
- void printAll()   -->  StudentDAOì˜ getAllStudent()ë¥¼ í˜¸ì¶œí•˜ê³  ê²°ê³¼ë¥¼ í™”ë©´ì— ì¶œë ¥í•œë‹¤.
- void printScore(String name) --> StudentDAOì˜  getScore()ë¥¼ í˜¸ì¶œí•˜ê³ 
"XXX í•™ìƒì˜ ì ìˆ˜ëŠ” XX ì…ë‹ˆë‹¤"ë¥¼ ì¶œë ¥í•œë‹¤.
- void insert(String name, int score) --> StudentDAOì˜  insertStudent()ë¥¼ í˜¸ì¶œí•œë‹¤.
ë¦¬í„´ê²°ê³¼ê°€ true ì´ë©´ "ì…ë ¥ ì„±ê³µ"ì„ ì¶œë ¥í•œë‹¤.
ë¦¬í„´ê²°ê³¼ê°€ false ì´ë©´ "ì…ë ¥ ì‹¤íŒ¨"ë¥¼ ì¶œë ¥í•œë‹¤
- void update(String name, int score) --> StudentDAOì˜  updateStudent()ë¥¼ í˜¸ì¶œí•œë‹¤.
ë¦¬í„´ê²°ê³¼ê°€ true ì´ë©´ "XX í•™ìƒì˜ ì ìˆ˜ë¥¼ ë³€ê²½í–ˆìŠµë‹ˆë‹¤."ì„ ì¶œë ¥í•œë‹¤.
ë¦¬í„´ê²°ê³¼ê°€ false ì´ë©´ "XX í•™ìƒì€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."ë¥¼ ì¶œë ¥í•œë‹¤.
- void delete(String name) -------------> StudentDAOì˜  deleteStudent()ë¥¼ í˜¸ì¶œí•œë‹¤.
ë¦¬í„´ê²°ê³¼ê°€ true ì´ë©´ "XX í•™ìƒì˜ ë°ì´í„°ë¥¼ ì‚­ì œí–ˆìŠµë‹ˆë‹¤."ì„ ì¶œë ¥í•œë‹¤.
ë¦¬í„´ê²°ê³¼ê°€ false ì´ë©´ "XX í•™ìƒì€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."ë¥¼ ì¶œë ¥í•œë‹¤.

```java
public class StudentController {
	StudentDAO st = new StudentDAO();
	
	public void printAll() {
		 List<StudentDTO> studentList =  st.getAllStudent();
		 
		 for(StudentDTO st : studentList) {
			 System.out.println(st);
		 }
	}
	
	public void printScore(String name) {
		StudentDTO dto = new StudentDTO();
		dto.setName(name);
		int score = st.getScore(dto);
		
		if(score < 0 ) {
			System.out.println(name+"í•™ìƒì€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
		}else {
			System.out.println(name+"í•™ìƒì˜ ì ìˆ˜ëŠ”"+score+"ì…ë‹ˆë‹¤.");
		}
	}
	
	public void insert(String name, int score) {
		StudentDTO dto = new StudentDTO();
		dto.setName(name);
		dto.setScore(score);
		
		if(st.insertStudent(dto)) {
			System.out.println("ì…ë ¥ ì„±ê³µ");
		}else {
			System.out.println("ì…ë ¥ ì‹¤íŒ¨");
		}
		
	}
	
	public void update(String name, int score) {
		StudentDTO dto = new StudentDTO();
		dto.setName(name);
		dto.setScore(score);
		
		if(st.updateStudent(dto)) {
			System.out.println("ìˆ˜ì • ì„±ê³µ");
		}else {
			System.out.println("ìˆ˜ì • ì‹¤íŒ¨");
		}
	}
	
	public void delete(String name) {
		StudentDTO dto = new StudentDTO();
		dto.setName(name);

		if(st.deleteStudent(dto)) {
			System.out.println("ì‚­ì œ ì„±ê³µ");
		}else {
			System.out.println("ì‚­ì œ ì‹¤íŒ¨");
		}
	}
}
```

### (3) view êµ¬í˜„(íŒ¨í‚¤ì§€ : mvclab.view)

- êµ¬í˜„ í´ë˜ìŠ¤ëª… : StudentApp
ìˆ˜í–‰ì„ ì‹œì‘í•˜ë©´ ë‹¤ìŒ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•œë‹¤.
- ì²˜ë¦¬í•˜ë ¤ëŠ” ê¸°ëŠ¥ì„ ì„ íƒí•˜ì„¸ìš”.
1. í•™ìƒ ì •ë³´ ì¶œë ¥
2. í•™ìƒ ì •ë³´ ì…ë ¥
3. í•™ìƒ ì •ë³´ ì‚­ì œ
4. í•™ìƒ ì •ë³´ ìˆ˜ì •
5. í•™ìƒ ì ìˆ˜ í™•ì¸
6. ì¢…ë£Œ
ì…ë ¥ :
    - 1ì„ ì…ë ¥í•˜ë©´ StudentController ì˜ printAll() ì„ í˜¸ì¶œí•œë‹¤.
    - 2ë¥¼ ì…ë ¥í•˜ë©´ í•™ìƒì˜ ì´ë¦„ê³¼ ì ìˆ˜ë¥¼ í‘œì¤€ì…ë ¥ë°›ì•„ì„œ StudentController ì˜ insert() ë¥¼ í˜¸ì¶œí•œë‹¤.
    - 3ì„ ì…ë ¥í•˜ë©´ ì‚­ì œí•˜ë ¤ëŠ” í•™ìƒ ì´ë¦„ì„ ì…ë ¥ë°›ì•„ StudentController ì˜ delete() ë¥¼ í˜¸ì¶œí•œë‹¤.
    - 4ë¥¼ ì…ë ¥í•˜ë©´ ìˆ˜ì •í•˜ë ¤ëŠ” í•™ìƒ ì´ë¦„ê³¼ ì ìˆ˜ë¥¼ ì…ë ¥ë°›ì•„ StudentController ì˜ update() ë¥¼ í˜¸ì¶œí•œë‹¤.
    - 5ë¥¼ ì…ë ¥í•˜ë©´ ì ìˆ˜ë¥¼ í™•ì¸í•˜ê³  ì‹¶ì€ í•™ìƒì˜ ì´ë¦„ì„ ì…ë ¥ë°›ì•„ StudentController ì˜ printScore() ë¥¼ í˜¸ì¶œí•œë‹¤.
    - 6ì„ ì…ë ¥í•˜ë©´ í”„ë¡œê·¸ë¨ ìˆ˜í–‰ìœ¼ë¡œ ì¢…ë£Œí•œë‹¤.
    - ëª¨ë“  ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ê³  ê²°ê³¼ë¥¼ ì¶œë ¥í•œ ë‹¤ìŒì—ëŠ” ìœ„ì˜ ë©”ë‰´ë¥¼ ì¬ ì¶œë ¥í•˜ê³  ì‚¬ìš©ì ì…ë ¥ì„ ë°›ëŠ”ë‹¤.
    
    ```java
    public class StudentApp {
    
    	public static void main(String[] args) {
    		StudentController stController = new StudentController();
    
    		Scanner sc = new Scanner(System.in);
    		int option = 0, score = 0;
    		String name = "";
    	Loop1: 	while (true) {
    			try {
    				System.out.println("==========[ë©”ë‰´]=========");
    				System.out.println("ì²˜ë¦¬í•˜ë ¤ëŠ” ê¸°ëŠ¥ì„ ì„ ì±…í•˜ì„¸ìš”.");
    				System.out.println("1. í•™ìƒ ì •ë³´ ì¶œë ¥");
    				System.out.println("2. í•™ìƒ ì •ë³´ ì…ë ¥");
    				System.out.println("3. í•™ìƒ ì •ë³´ ì‚­ì œ");
    				System.out.println("4. í•™ìƒ ì •ë³´ ìˆ˜ì •");
    				System.out.println("5. í•™ìƒ ì •ë³´ í™•ì¸");
    				System.out.println("6. ì¢…ë£Œ");
    				System.out.print("ì…ë ¥ : ");
    				option = Integer.parseInt(sc.nextLine());
    				
    
    				if (option > 6 || option < 1) {
    					System.out.println("ì˜µì…˜ì„ ë‹¤ì‹œ ì„ íƒí•´ ì£¼ì„¸ìš”.");
    					continue;
    				}  else {
    					switch (option) {
    					case 6 : 
    						System.out.println("í•™ìƒì •ë³´ ì‹œìŠ¤í…œì„ ì¢…ë£Œí•©ë‹ˆë‹¤.");
    						break Loop1;
    					case 1:
    						stController.printAll();
    						break;
    					case 2:
    						System.out.print("ì¶”ê°€ í•˜ë ¤ëŠ” í•™ìƒì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš” : ");
    						name = sc.nextLine();
    						System.out.print("ì¶”ê°€ í•˜ë ¤ëŠ” í•™ìƒì˜ ì ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš” : ");
    						score = Integer.parseInt(sc.nextLine());
    						stController.insert(name, score);
    						break;
    					case 3 :
    						System.out.print("ì‚­ì œ í•˜ë ¤ëŠ” í•™ìƒì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš” : ");
    						name = sc.nextLine();
    						stController.delete(name);
    						break;
    					case 4 :
    						System.out.print("ìˆ˜ì • í•  í•™ìƒì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”. : ");
    						name = sc.nextLine();
    						System.out.print("ìˆ˜ì • í•  í•™ìƒì˜ ì ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš” : ");
    						score = Integer.parseInt(sc.nextLine());
    						stController.update(name, score);
    					case 5 :
    						System.out.print("ì ìˆ˜ë¥¼ í™•ì¸ í•  í•™ìƒì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”. : ");
    						name = sc.nextLine();
    						stController.printScore(name);
    					}
    					
    				}
    
    			} catch (NumberFormatException ne) {
    				System.out.println("ì…ë ¥ê°’ì´ ì˜ëª» ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
    			}
    		}
    		sc.close();
    	}
    
    }
    ```
</div>
</details>
