<img src="https://noticon-static.tammolo.com/dgggcrkxq/image/upload/v1567008394/noticon/ohybolu4ensol1gzqas1.png" height="15%" width="15%"> <br/>

# 2023-04-07 / JS API

ğŸ—“ï¸ ë‚ ì§œâ€â€â€â€â€â€â€â€â€â€â€2023/04/07 

â˜ï¸ ë‚ ì”¨â€â€â€â€â€â€â€â€â€â€â€â˜€ï¸ ë§‘ìŒ (9Â°C) 

## 01. Canvas API

ğŸ’¡ javaScriptë¡œ ì›¹í˜ì´ì§€ì— ê·¸ë¦¼ì„ ê·¸ë¦´ ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” HTML5 API

- ```<canvas>```ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê·¸ë¦¼ì„ ê·¸ë¦¬ ìœ„í•œ ì˜ì—­ì„ ì •ì˜í•˜ê³  ìŠ¤í¬ë¦½íŠ¸ë¡œ ê·¸ë¦¼ì„ ê·¸ë¦°ë‹¤. â†’ ê·¸ë¦¼ì„ ê·¸ë¦¬ê¸° ìœ„í•œ ê³µê°„
- ì§ì„ , ë°•ìŠ¤, ì›, ë² ì§€ì— ê³¡ì„  ë“± ë‹¤ì–‘í•œ ê·¸ë¦¼ì„ ê·¸ë¦´ ìˆ˜ ìˆë‹¤.
- **HTMLCanvasObject :** javaScriptì—ì„œ ê·¸ë¦¼ ê·¸ë¦¬ê¸° ìœ„í•´ì„œ DOM ê°ì²´ë¡œ ì ‘ê·¼ í•´ì•¼í•œë‹¤.

### 1.1 Canvas ë©”ì„œë“œ

- fillRect(x,y,width,height) : ìƒ‰ì´ ì¹ í•´ì ¸ ìˆëŠ” ì‚¬ê°í˜•ì„ ê·¸ë¦°ë‹¤
- strokeRect(x,y,width,height) : í…Œë‘ë¦¬ë§Œ ìˆëŠ” ì‚¬ê°í˜•
- arc(x,y,r,startAngle, endAngle, angiclockwise) : ì›ì„ ê·¸ë¦°ë‹¤
    - ì‹œì‘ì ì´ 3ì‹œ ë°©í–¥ì´ ê¸°ë³¸ : 0
    - Math.PI*2 â‡’ 360, ì›
    - anticlockwise : true- ì‹œê³„ë°©í–¥ , false : ë°˜ì‹œê³„ë°©í–¥
- moveto(x,y) : x,yë¡œ ì‹œì‘ì ì„ ì˜®ê¸´ë‹¤
- quardraticCurveTo(cp1x, cp1y,x,y) : ì¡°ì ˆì  í•œê°œ ê³¡ì„ 
- bezierCurve(cp1x, cp1y, cp2x, cp2y, x, y) : ì¡°ì ˆì  ë‘ê°œì˜ ê³¡ì„ 
- drawImage(image,sx,sy) : ì´ë¯¸ì§€ ì›ë³¸
- drawImage(image,sx,sy,sWidth,sHeight,dx,dy,dWidth,d

### 1.2 CanvasGradient

- createLinearGradient(x1,y1,x2,y2) : ì„ í˜• ê·¸ë¼ë””ì–¸íŠ¸ ê°ì²´ë¥¼ ìƒì„±
- createRadialGradient(x1,y1,x2,y2) : ì›í˜• ê·¸ë¼ë””ì–¸íŠ¸ ê°ì²´ë¥¼ ìƒì„±
- addColorStop(position,color) : positon(0~1.0) ìœ„ì¹˜ì— ìƒ‰ìƒ ì„¤ì •
- createPattern(image, type) : imageì™€ typeì— ëŒ€í•œ íŒ¨í„´ ê°ì²´ ìƒì„±

### 1.3 Canvas ì €ì¥

- save() : ìº”ë²„ìŠ¤ì˜ ìƒíƒœ ì •ë³´ ì €ì¥ / stack êµ¬ì¡°
- restore() : ìŠ¤íƒì— ì €ì¥ëœ ìƒíƒœ ì •ë³´ë¥¼ ì½ì–´ì˜¨ë‹¤
- toDataURL() : storegeì— ì €ì¥í•  ë•Œ

### 1.3 ìŠ¤íƒ€ì¼

- fillStyle : ì±„ì›Œì§ˆ ìƒ‰ìƒ ì§€ì •
- lineCap : ì„ ì˜ ëëª¨ì–‘ì„ ê²°ì •

## 02. Multimedia

- <video> , <audio>
- controls â†’ ì†Œë¦¬, ì¬ìƒ ë²„íŠ¼ ,ì „ì²´í™”ë©´ ë“± ì„¤ì • ì—¬ë¶€ ì¡°ì •í•˜ëŠ” bool íƒ€ì… ì†ì„±
- currentTime â†’ í˜„ì¬ì˜ ì¬ìƒ ìœ„ì¹˜ë¥¼ ì´ˆ ë‹¨ìœ„ë¡œ ë‚˜íƒ€ë‚´ëŠ” ì†ì„±
- play() : í˜„ì¬ ìœ„ì¹˜ì—ì„œ ì¬ìƒì„ ì‹œì‘.
- pause() : ì˜¤ë””ì˜¤ê°€ ì¬ìƒ ì¤‘ì¼ ê²½ìš° ì¼ì‹œ ì •ì§€

## 03. Drag&Drop

ğŸ’¡ ë§ˆìš°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°„ì— íŒŒì¼ì´ë‚˜ ì• í”Œã„¹ì¼€ì´ì…˜ì˜ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥

- html5ì˜ ì—˜ë¦¬ë¨¼íŠ¸ì— draggable=true ì†ì„±ì˜ ê°’ì„ trueë¡œ ì§€ì •í•˜ë©´ ë“œë˜ê·¸ê°€ ê°€ëŠ¥í•œ ì†ŒìŠ¤ ê°ì²´ê°€ ëœë‹¤.
- imgëŠ” defaultë¡œ draggableì´ trueì´ë‹¤.

### Drag&Drop event

- dragstart : ì—˜ë¦¬ë¨¼íŠ¸ì—ì„œ ë“œë˜ê·¸ë¥¼ ì‹œì‘í•  ë•Œ ë°œìƒ
- darg : ë“œë˜ê·¸í•˜ëŠ” ë™ì•ˆ ì¼ì–´ë‚˜ëŠ” ì—°ì†ì ì¸ ì´ë²¤íŠ¸, ë§ˆìš°ìŠ¤ ì»¤ì„œë¥¼ ì›€ì§ì¼ ë•Œ ë°˜ë³µì ìœ¼ë¡œ í˜¸ì¶œë¨
- dragenter :  ë“œë˜ê·¸ëœ ìš”ì†Œê°€ ë“œë¡­ ë™ì‘ì„ ìˆ˜í–‰ dropzoneì˜ì—­ì— ë“¤ì–´ ê°”ì„ ë•Œ ë°œìƒ
- dragleave : ë“œë˜ê·¸ëœ ìš”ì†Œê°€ ë“œë¡­ ë™ì¥ì„ í•˜ì§€ ì•Šê³  dropzoneã…‡ì—ì„œ ë²—ì–´ë‚  ë•Œ ë°œìƒ
- drop :  ì‚¬ìš©ìê°€ ë§ˆìš°ìŠ¤ ë²„íŠ¼ì„ ë†“ì„ ë•Œ
- dropend  event: ì—°ì‡„ ì‘ìš©ì˜ ë§ˆì§€ë§‰ ë‹¨ê³„, drop ì´ë²¤íŠ¸ í›„ ë°œìƒ

### dataTransfer ê°ì²´

ğŸ’¡ ì†ŒìŠ¤ê°ì²´ì—ì„œ ë“œë¡­ì´ ì¼ì–´ë‚˜ëŠ” íƒ€ê²Ÿì˜ ê°ì²´ë¡œ ì „ë‹¬í•˜ë ¤ëŠ” ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê°ì²´

- files ì†ì„± : fileListíƒ€ì…ìœ¼ë¡œ, ë“œë˜ê·¸ ëŒ€ìƒì´ íŒŒì¼ì¼ ë•Œ ì‚¬ìš©
- types ì†ì„± : StringList íƒ€ì…ìœ¼ë¡œ,ë“œë˜ê·¸ ëŒ€ìƒì´ íŒŒì¼ì¼ ë•Œ ì‚¬ìš©ëœë‹¤.
- setData(type,data) : type ëª…ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤.
- setDragImage(image,x,y) : ë“œë˜ê·¸í•˜ëŠ” ë™ì•ˆ ì»¤ì„œë¥¼ ë”°ë¼ë‹¤ë‹ˆëŠ” ì´ë¯¸ì§€
- getData(type) : typeì— í•´ë‹¹ë˜ëŠ” ë°ì´í„°ë¥¼ ì¶”ì¶œí•œë‹¤,

## 04. Storage

ğŸ’¡ ì›¹ ë¸Œë¼ìš°ì €ì— ìë£Œë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ ê¸°ëŠ¥

- ë°ì´í„°ëŠ” key : value ê°’ìœ¼ë¡œ ë¬¸ìì—´ë¡œ ì €ì¥ëœë‹¤.
- ë¡œì»¬ ìŠ¤í† ë¦¬ì§€(local storage) : ì˜êµ¬ ë³´ê´€
- ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€(session storage) : ë¸Œë¼ìš°ì €ê°€ ì¢…ë£Œë  ë•Œê¹Œì§€ ë³´ê´€

### 4.1 Local Storage

1. **ì €ì¥**
- localStorage.mykey = â€œvalueâ€;
- localStorage[â€myKeyâ€] = â€œvalueâ€;
- localStorage.setItem(â€mykeyâ€, â€œmyvalueâ€);

1. **ì½ê¸°**
- const mydata = localStorage.myKey;
- const mydata = localStorage[â€myKeyâ€];
- const mydata = localStorage.getItem(â€myKeyâ€);

1. **ì‚­ì œ**
- delete localStorage.myKey;
- delete localStorage[â€myKeyâ€];
- localStorage.removeItem(â€myKeyâ€);

> jsì˜ ê°ì²´ë¥¼ localStorageì— ì €ì¥ í•˜ê¸° ìœ„í•´ì„œ jsoní˜•íƒœë¡œ ë³€ê²½í•˜ì—¬ ì €ì¥
>


## Exercise01 / canvas

<details>
<summary>ğŸ§§ Canvas,storage ì‹¤ìŠµ í¼ì³ë³´ê¸°</summary>
<div markdown="1">

1ï¸âƒ£ **[ì‹¤ìŠµ 1]**

- Canvasë¥¼ í™œìš©í•˜ì—¬ ê·¸ë¦¼ì„ ê·¸ë¦°ë‹¤.
- ê·¸ë¦¼ì„ ì €ì¥,ì½ì–´ì˜¤ê¸°, ì‚­ì œí•˜ê¸° ê¸°ëŠ¥

![cavas exam](https://user-images.githubusercontent.com/55836020/230833497-75dd9e82-ef03-4cd2-a868-8deec1eae7c3.png)

```html
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Draw Character</title>
<style>

body{
text-align : center;
}

section {
text-align : center;
padding : 10px;
}

canvas{
border : 1px solid;
background-image: url("");
}

</style>
</head>
<body>
<h1> HTML5 API ì‹¤ìŠµ</h1>
<div>
<button onclick="saveImg();">ì €ì¥í•˜ê¸°</button>
<button onclick="restoreImg();">ì½ì–´ì˜¤ê¸°</button>
<button onclick="deleteImg()">ì‚­ì œí•˜ê¸°</button>
</div>
<section id='drawContainer'>
<canvas id="canvas" width="800" height="450"></canvas>
</section>
<script src="drawexercise14.js"></script>
</body>
</html>
```

```jsx
let canvas;
let context;

function startDrawing() {
	canvas = document.getElementById('canvas');
	context = canvas.getContext("2d");
	
	
    context.beginPath();
    
    context.lineJoin = "round";
   	context.bezierCurveTo(100,200,250,0,400,200);
   	context.lineTo(400,500); // ì˜¤ë¥¸ìª½ë³€
   	context.lineTo(100,500); //
   	context.lineTo(100,197);
   	context.fillStyle = "#B07030";
   	context.strokeStyle="#B07030";
   	context.lineWidth = "9";
   	context.stroke();
   	context.fill();
   	
   	context.beginPath();
   	context.fillStyle = 'black';
   	context.ellipse(200, 200, 10, 25, Math.PI, 0, 2 * Math.PI);
   
   	context.ellipse(300, 200, 10, 25, Math.PI, 0, 2 * Math.PI);
   	context.fill();
   	
   	context.beginPath();
   	context.fillStyle = 'white';
   	context.ellipse(200,190, 10, 5, Math.PI*1.5, 0, 2 * Math.PI);
   	context.ellipse(300,190, 10, 5, Math.PI*1.5, 0, 2 * Math.PI);
   	context.fill();
   	
   	// ì½”
   	context.beginPath();
   	context.fillStyle = 'pink';
   	context.ellipse(250, 250, 50, 20, Math.PI *3 , 0, 2 * Math.PI);
    context.fill();
    
    
    
   	
	}
	
function saveImg() {
	alert(canvas.toDataURL());
	window.localStorage.setItem("dglettImg", canvas.toDataURL());	
}

function restoreImg() {
	const img = new Image();
	img.src = window.localStorage.dglettImg;
	img.onload = function() {
		context.drawImage(img,0,0);
	}
}

function deleteImg() {
	context.clearRect(0,0,800,450);
	context.beginPath();
	context.stroke();
}
	
document.body.onload = startDrawing;
```

</div>
</details>
